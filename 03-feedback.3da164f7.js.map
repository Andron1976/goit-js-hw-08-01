{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAKMC,EAAsB,WACtBC,EAAiBC,SAASC,cAAc,kBACxCC,EAAW,IAEY,SAAAC,GACzB,IAAIC,EACJ,IACAA,EAA2BC,KAAKC,MAAMC,aAAaC,QAAQV,IACzD,MAAMW,GACJC,QAAQC,IAAIF,GAGhB,IAAMG,EAAeT,EAAKU,SAG1B,IAAK,IAAMC,KAAOV,EACVA,EAAyBW,eAAeD,KACxCF,EAAaE,GAAKE,MAAQZ,EAAyBU,IAK/DG,CAAqBlB,GAErB,IAAMmB,EAAuBC,EAAAvB,EAAA,EAAS,SAAAwB,GAClC,IAAQC,EAAWD,EAAXC,OAEFC,EAAsBD,EAAOL,MAC7BO,EAAqBF,EAAOG,KAElCtB,EAASqB,GAAsBD,EAG/Bf,aAAakB,QAAQ3B,EAAqBO,KAAKqB,UAAUxB,MAC1D,KAkBHH,EAAe4B,iBAAiB,QAAST,GACzCnB,EAAe4B,iBAAiB,UAjBC,SAAAP,GAEzB,GADAA,EAAMQ,iBAC6B,KAA/BR,EAAMC,OAAOQ,QAAQb,OAA6C,KAA7BI,EAAMC,OAAOS,MAAMd,MAA5D,CAIA,IAAMe,EAAY,CACdD,MAAO/B,EAAe+B,MAAMd,MAC5Ba,QAAS9B,EAAe8B,QAAQb,OAEpCN,QAAQC,IAAIoB,GAEZxB,aAAayB,WAAWlC,GACxBsB,EAAMa,cAAcC,aAVhBC,MAAM","sources":["src/js/03-feedback.js"],"sourcesContent":["'use strict';\nimport throttle from 'lodash.throttle';\nimport '../css/03-feedback.css';\nimport '../css/common.css';\n\nconst FEEDBACK_FORM_STATE = 'formData';\nconst feedbackFormEl = document.querySelector('.feedback-form');\nconst formData = {};\n\nconst returnFeedbackFormEl = form => { \n    let formDataFromLocalStorage;\n    try{\n    formDataFromLocalStorage = JSON.parse(localStorage.getItem(FEEDBACK_FORM_STATE));\n    } catch(err) {\n        console.log(err);\n    }\n    \n    const formElements = form.elements;\n    \n\n    for (const key in formDataFromLocalStorage) {\n        if (formDataFromLocalStorage.hasOwnProperty(key)) {\n            formElements[key].value = formDataFromLocalStorage[key] ;\n        }\n    }\n};\n\nreturnFeedbackFormEl(feedbackFormEl);\n\nconst feedbackFormElChange = throttle(event => {\n    const { target } = event;\n\n    const feedbackFormElValue = target.value;\n    const feedbackFormElName = target.name;\n\n    formData[feedbackFormElName] = feedbackFormElValue;\n    \n\n    localStorage.setItem(FEEDBACK_FORM_STATE, JSON.stringify(formData));\n}, 500);\n\n    const feedbackFormElSubmit = event => {\n        event.preventDefault();\n        if (event.target.message.value === '' || event.target.email.value === '') {\n            alert('Заполните пожалуйста все поля');\n            return;\n        }\n        const inputItem = {\n            email: feedbackFormEl.email.value,\n            message: feedbackFormEl.message.value,\n        };\n        console.log(inputItem);\n\n        localStorage.removeItem(FEEDBACK_FORM_STATE);\n        event.currentTarget.reset();\n    };\n\nfeedbackFormEl.addEventListener('input', feedbackFormElChange);\nfeedbackFormEl.addEventListener('submit', feedbackFormElSubmit);\n\n"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$FEEDBACK_FORM_STATE","$b00c40859be242c5$var$feedbackFormEl","document","querySelector","$b00c40859be242c5$var$formData","form","formDataFromLocalStorage","JSON","parse","localStorage","getItem","err","console","log","formElements","elements","key","hasOwnProperty","value","$b00c40859be242c5$var$returnFeedbackFormEl","$b00c40859be242c5$var$feedbackFormElChange","$parcel$interopDefault","event","target","feedbackFormElValue","feedbackFormElName","name","setItem","stringify","addEventListener","preventDefault","message","email","inputItem","removeItem","currentTarget","reset","alert"],"version":3,"file":"03-feedback.3da164f7.js.map"}